<div class="container">
  <div class="header">
    <p>Chat UI</p>
  </div>
  <div class="content">
    <div class="chat-box">
      <div class="users">
        <h3>User: {{currentUser.full_name}}</h3>
        <div class="buttons">
          <label for="currentUser">From:</label>
          <select name="users" id="users" [(ngModel)]="currentUser" (change)="onCurrentUserChange()">
            <option *ngFor="let user of users" [ngValue]="user" [disabled]="user.user_name===otherUser.user_name">
              {{user.user_name}}</option>
          </select>
          <label for="toUser">To:</label>
          <select name="users" id="users" [(ngModel)]="otherUser" (change)="onOtherUserChange()">
            <option *ngFor="let user of users" [ngValue]="user" [disabled]="currentUser.user_name===user.user_name">
              {{user.user_name}}</option>
          </select>
          <!-- <select name="port" id="ports" [(ngModel)]="port" (change)="setWebSocket()">
                <option [ngValue]="6788">6788</option>
                <option [ngValue]="6789">6789</option>
              </select> -->
          <!-- <input type="text" placeholder="ws port" [(ngModel)]="port">
          <button (click)="setWebSocket()">Set Port</button> -->
          <button (click)="switchUsers()">Switch</button>
          <button (click)="getMessages()">Refresh</button>
        </div>
      </div>
      <div class="chat-view">
        <div class="messages">
          <p *ngFor="let message of messages"
            [ngStyle]="{'text-align': getUsername(message.sent_from) === currentUser.user_name ? 'right' : 'left'}">
            <span>{{message.message}}</span>
          </p>
        </div>
      </div>
      <div class="input-view">
        <input type="text" placeholder="Type message here..." [(ngModel)]="message">
        <button (click)="sendMessage()">Send</button>
      </div>
    </div>
    <div class="notifications"></div>
  </div>
</div>
<router-outlet></router-outlet>
